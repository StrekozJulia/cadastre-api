# Cadastre-api - сервис для запроса соответствия кадастровых номеров и географических координат
## Описание
- Сервис принимает запрос с указанием кадастрового номера, широты и долготы, эмулирует отправку запроса на внешний сервер, который может обрабатывать запрос до 60 секунд. Затем отдает результат запроса: `True` или `False`.
- Данные запроса на сервер и ответ с внешнего сервера сохраняются в БД. 
- Реализовано получение истории всех запросов с возможностью фильтрации по кадастровому номеру.

## Технологии
- python 3.11
- FastAPI
- SQLAlchemy
- SQLite
- SQLAdmin
- Pytest

## Установка и запуск проекта
- Клонируйте репозиторий на локальный компьютер
```
git clone git@github.com:StrekozJulia/cadastre-api.git
```
- Перейдите в папку с проектом
```
сd cadastre-api
```
- Создайте и запустите контейнер
```
docker build -t cadastre .
docker run -d --name cadastre -p 80:80 cadastre
```
Проект будет доступен по адресу http://127.0.0.1/cadastre/
Документация по проекту по адресу http://127.0.0.1/cadastre/docs
Админ-панель проекта по адресу http://127.0.0.1/cadastre/admin

Для тестирования перейдите в папку приложения cadastre и в терминале выполните команду
```
pytest
```

## Доступные эндпоинты
- http://127.0.0.1/cadastre/ping - проверка доступности удаленного сервера, тип запроса GET
- http://127.0.0.1/cadastre/query - отправка POST-запроса, данные вводятся в формате:  {"cadastre_num": string, "latitude": string, "longitude": string}
- http://127.0.0.1/cadastre/result/{query_id} - выдача результата запроса по номеру id, тип запроса GET
- http://127.0.0.1/cadastre/history - получение истории запросов, тип запроса GET, фильтрация по cadastre_num
